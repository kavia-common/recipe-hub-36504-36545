{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing recipes in a web application using FastAPI. It includes endpoints for creating, listing, retrieving, updating, and deleting recipes, with dependencies on database sessions, authentication, and recipe ownership verification.", "external_files": [".db", ".schemas", ".models", ".dependencies.auth", ".services.recipe_service"], "external_methods": ["get_db", "current_user", "recipe_owned_by_current_user", "create_user_recipe", "list_all_recipes", "list_user_recipes", "get_recipe_or_404", "update_user_recipe", "delete_user_recipe"], "published": ["router", "create_recipe", "list_recipes", "list_my_recipes", "get_recipe", "update_recipe", "delete_recipe"], "classes": [], "methods": [{"name": "Recipe create_recipe(payload: RecipeCreate, db: Session = Depends(get_db), user: User = Depends(current_user))", "description": "Handles creation of a new recipe owned by the current user.", "scope": "", "scopeKind": ""}, {"name": "list[Recipe] list_recipes(db: Session = Depends(get_db))", "description": "Lists all recipes.", "scope": "", "scopeKind": ""}, {"name": "list[Recipe] list_my_recipes(db: Session = Depends(get_db), user: User = Depends(current_user))", "description": "Lists recipes owned by the current authenticated user.", "scope": "", "scopeKind": ""}, {"name": "Recipe get_recipe(recipe_id: int, db: Session = Depends(get_db))", "description": "Retrieves a recipe by its ID, raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "Recipe update_recipe( recipe_id: int, payload: RecipeUpdate, db: Session = Depends(get_db), recipe: Recipe = Depends(recipe_owned_by_current_user), )", "description": "Updates a recipe owned by the current user.", "scope": "", "scopeKind": ""}, {"name": "delete_recipe( recipe_id: int, db: Session = Depends(get_db), recipe: Recipe = Depends(recipe_owned_by_current_user), )", "description": "Deletes a recipe owned by the current user.", "scope": "", "scopeKind": ""}], "calls": ["create_user_recipe", "list_all_recipes", "list_user_recipes", "get_recipe_or_404", "update_user_recipe", "delete_user_recipe"], "search-terms": ["routers_recipes", "FastAPI endpoints", "recipe management", "recipe CRUD", "recipe API routes"], "state": 2, "file_id": 13, "knowledge_revision": 38, "git_revision": "1138e7806045c25e518089c2fc590a5b78681399", "revision_history": [{"28": "1138e7806045c25e518089c2fc590a5b78681399"}, {"38": "1138e7806045c25e518089c2fc590a5b78681399"}], "ctags": [{"_type": "tag", "name": "create_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^def create_recipe(payload: RecipeCreate, db: Session = Depends(get_db), user: User = Depends(cur/", "language": "Python", "typeref": "typename:Recipe", "kind": "function", "signature": "(payload: RecipeCreate, db: Session = Depends(get_db), user: User = Depends(current_user))"}, {"_type": "tag", "name": "delete_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^def delete_recipe($/", "language": "Python", "kind": "function", "signature": "( recipe_id: int, db: Session = Depends(get_db), recipe: Recipe = Depends(recipe_owned_by_current_user), )"}, {"_type": "tag", "name": "get_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^def get_recipe(recipe_id: int, db: Session = Depends(get_db)) -> Recipe:$/", "language": "Python", "typeref": "typename:Recipe", "kind": "function", "signature": "(recipe_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_my_recipes", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^def list_my_recipes(db: Session = Depends(get_db), user: User = Depends(current_user)) -> list[R/", "language": "Python", "typeref": "typename:list[Recipe]", "kind": "function", "signature": "(db: Session = Depends(get_db), user: User = Depends(current_user))"}, {"_type": "tag", "name": "list_recipes", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^def list_recipes(db: Session = Depends(get_db)) -> list[Recipe]:$/", "language": "Python", "typeref": "typename:list[Recipe]", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^router = APIRouter(prefix=\"\\/recipes\", tags=[\"recipes\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/routers_recipes.py", "pattern": "/^def update_recipe($/", "language": "Python", "typeref": "typename:Recipe", "kind": "function", "signature": "( recipe_id: int, payload: RecipeUpdate, db: Session = Depends(get_db), recipe: Recipe = Depends(recipe_owned_by_current_user), )"}], "hash": "34d489c1cbb6643237ad2f538d0e0f75", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/api/routers_recipes.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/recipes\", tags=[\"recipes\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}