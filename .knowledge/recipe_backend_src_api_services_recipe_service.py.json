{"is_source_file": true, "format": "Python", "description": "This file defines service functions for managing recipes in a backend application. It interacts with repository functions to create, retrieve, update, list, and delete recipes, as well as checking recipe ownership.", "external_files": ["../models", "../repositories"], "external_methods": ["create_recipe", "list_recipes", "get_recipe", "update_recipe", "delete_recipe"], "published": ["create_user_recipe", "get_recipe_or_404", "ensure_owner", "list_all_recipes", "list_user_recipes", "update_user_recipe", "delete_user_recipe"], "classes": [], "methods": [{"name": "Recipe create_user_recipe( db: Session, owner: User, title: str, description: Optional[str] = None, ingredients: Optional[str] = None, instructions: Optional[str] = None, )", "description": "Creates a new recipe owned by a specific user with given details.", "scope": "", "scopeKind": ""}, {"name": "Optional[Recipe] get_recipe_or_404(db: Session, recipe_id: int)", "description": "Retrieves a recipe by ID, returning None if not found.", "scope": "", "scopeKind": ""}, {"name": "bool ensure_owner(recipe: Recipe, user: User)", "description": "Checks if a user owns a given recipe.", "scope": "", "scopeKind": ""}, {"name": "List[Recipe] list_all_recipes(db: Session)", "description": "Lists all recipes in the database.", "scope": "", "scopeKind": ""}, {"name": "List[Recipe] list_user_recipes(db: Session, user: User)", "description": "Lists recipes owned by a specific user.", "scope": "", "scopeKind": ""}, {"name": "Recipe update_user_recipe( db: Session, recipe: Recipe, *, title: Optional[str] = None, description: Optional[str] = None, ingredients: Optional[str] = None, instructions: Optional[str] = None, )", "description": "Updates fields of an existing recipe.", "scope": "", "scopeKind": ""}, {"name": "None delete_user_recipe(db: Session, recipe: Recipe)", "description": "Deletes a given recipe from the database.", "scope": "", "scopeKind": ""}], "calls": ["repo_create_recipe", "repo_list_recipes", "repo_get_recipe", "repo_update_recipe", "repo_delete_recipe"], "search-terms": ["recipe_service", "recipe CRUD", "recipe ownership", "recipe backend"], "state": 2, "file_id": 15, "knowledge_revision": 40, "git_revision": "", "revision_history": [{"35": ""}, {"40": ""}], "ctags": [{"_type": "tag", "name": "create_user_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def create_user_recipe($/", "language": "Python", "typeref": "typename:Recipe", "kind": "function", "signature": "( db: Session, owner: User, title: str, description: Optional[str] = None, ingredients: Optional[str] = None, instructions: Optional[str] = None, )"}, {"_type": "tag", "name": "delete_user_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def delete_user_recipe(db: Session, recipe: Recipe) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, recipe: Recipe)"}, {"_type": "tag", "name": "ensure_owner", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def ensure_owner(recipe: Recipe, user: User) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(recipe: Recipe, user: User)"}, {"_type": "tag", "name": "get_recipe_or_404", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def get_recipe_or_404(db: Session, recipe_id: int) -> Optional[Recipe]:$/", "language": "Python", "typeref": "typename:Optional[Recipe]", "kind": "function", "signature": "(db: Session, recipe_id: int)"}, {"_type": "tag", "name": "list_all_recipes", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def list_all_recipes(db: Session) -> List[Recipe]:$/", "language": "Python", "typeref": "typename:List[Recipe]", "kind": "function", "signature": "(db: Session)"}, {"_type": "tag", "name": "list_user_recipes", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def list_user_recipes(db: Session, user: User) -> List[Recipe]:$/", "language": "Python", "typeref": "typename:List[Recipe]", "kind": "function", "signature": "(db: Session, user: User)"}, {"_type": "tag", "name": "repo_create_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^    create_recipe as repo_create_recipe,$/", "language": "Python", "kind": "unknown", "nameref": "unknown:create_recipe"}, {"_type": "tag", "name": "repo_delete_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^    delete_recipe as repo_delete_recipe,$/", "language": "Python", "kind": "unknown", "nameref": "unknown:delete_recipe"}, {"_type": "tag", "name": "repo_get_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^    get_recipe as repo_get_recipe,$/", "language": "Python", "kind": "unknown", "nameref": "unknown:get_recipe"}, {"_type": "tag", "name": "repo_list_recipes", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^    list_recipes as repo_list_recipes,$/", "language": "Python", "kind": "unknown", "nameref": "unknown:list_recipes"}, {"_type": "tag", "name": "repo_update_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^    update_recipe as repo_update_recipe,$/", "language": "Python", "kind": "unknown", "nameref": "unknown:update_recipe"}, {"_type": "tag", "name": "update_user_recipe", "path": "/home/kavia/workspace/code-generation/recipe-hub-36504-36545/recipe_backend/src/api/services/recipe_service.py", "pattern": "/^def update_user_recipe($/", "language": "Python", "typeref": "typename:Recipe", "kind": "function", "signature": "( db: Session, recipe: Recipe, *, title: Optional[str] = None, description: Optional[str] = None, ingredients: Optional[str] = None, instructions: Optional[str] = None, )"}], "hash": "2f6bf9425f941c46528dfb2e0b35e10c", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/api/services/recipe_service.py"}